# VPN Server Configuration File

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# TUN interface configuration
TUN_IF="tun0"
TUN_CIDR="10.8.0.1/24"
TUN_MTU=1400

# Server binding settings
BIND_IP="0.0.0.0"
BIND_PORT=8080

# WAN interface for NAT
WAN_IF="eth0"

# VPN subnet for NAT rules
VPN_SUBNET="10.8.0.0/24"

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Authentication mode: PSK, TOKEN, or MUTUALCERT
AUTH_MODE="PSK"

# Pre-shared key (for PSK mode) - 32 bytes hex encoded
PSK="0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"

# Token issuer (for TOKEN mode)
TOKEN_ISSUER=""

# Certificate paths (for MUTUALCERT mode)
SERVER_CERT=""
SERVER_KEY=""
CA_CERT=""

# =============================================================================
# NAT AND ROUTING
# =============================================================================

# Enable NAT masquerade (yes/no)
ENABLE_NAT="yes"

# Enable IP forwarding (yes/no)
ENABLE_IP_FORWARD="yes"

# Local subnet for NAT (if different from VPN_SUBNET)
LOCAL_SUBNET="192.168.1.0/24"

# =============================================================================
# CLIENT MANAGEMENT
# =============================================================================

# Maximum number of concurrent clients
MAX_CLIENTS=10

# Client connection timeout (seconds)
CLIENT_TIMEOUT=300

# Enable client statistics (yes/no)
ENABLE_STATS="yes"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: TRACE, DEBUG, INFO, WARN, ERROR, FATAL
LOG_LEVEL="INFO"

# Log file path (empty for console only)
LOG_FILE=""

# Enable colored output (yes/no)
LOG_COLOR="yes"

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Connection backlog
CONNECTION_BACKLOG=5

# Select timeout (seconds)
SELECT_TIMEOUT=1

# Buffer size for packet forwarding
BUFFER_SIZE=4096

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Enable connection rate limiting (yes/no)
RATE_LIMIT="no"

# Maximum connections per minute per IP
MAX_CONNECTIONS_PER_MINUTE=60

# Enable connection logging (yes/no)
LOG_CONNECTIONS="yes"
